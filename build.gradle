plugins {
    id "me.champeau.gradle.jmh" version "0.3.1"
}

repositories {
    mavenCentral()
}
dependencies {
    compile 'com.aerospike:aerospike-client:3.+'
    compile 'org.isuper:s2-geometry-library-java:0.0.1'
    compile 'com.univocity:univocity-parsers:2.2.2'
    compile 'javax.json:javax.json-api:1.0'
    compile 'org.glassfish:javax.json:1.0.+'
}
apply plugin: 'java'
apply plugin: 'application'

run {
    mainClassName = 'net.kaoriya.jpquery.Loader'
}

jmh {
    duplicateClassesStrategy = 'include'
    fork = 1
    warmupIterations = 5
    iterations = 10
}

task covering(type:JavaExec) {
    main = 'net.kaoriya.jpquery.Covering'
    classpath = sourceSets.main.runtimeClasspath
}

task 'load-long-index' (type:JavaExec) {
    main = 'net.kaoriya.jpquery.cmd.LoadLongIndex'
    classpath = sourceSets.main.runtimeClasspath
}
